{
  "version": 3,
  "sources": ["../../../src/repositories/Base/index.ts"],
  "sourcesContent": ["import { Model, FindOptions  } from 'sequelize';\r\nimport { IRead } from '../Interfaces/IRead';\r\nimport { IWrite } from '../Interfaces/IWrite';\r\n\r\nexport abstract class BaseRepository<T> implements IWrite<T>, IRead<T>  {\r\n  model: any;\r\n\r\n  constructor(model: Model) {\r\n    this.model = model;\r\n  }\r\n  async create(data: any): Promise<any> {\r\n    try {\r\n      return await this.model.create(data);\r\n    } catch (e) {\r\n      throw new Error(`Cannot create data because: ${e}`);\r\n    }\r\n  }\r\n\r\n  async update(id: string, data: any): Promise<boolean> {\r\n    try {\r\n      const [updatedRowsCount] = await this.model.update(data, {\r\n        where: { id },\r\n      });\r\n      return updatedRowsCount > 0;\r\n    } catch (e) {\r\n      throw new Error(`Cannot update data because: ${e}`);\r\n    }\r\n  }\r\n\r\n  async delete(id: string): Promise<boolean> {\r\n    try {\r\n      const deletedRowsCount = await this.model.destroy({\r\n        where: { id },\r\n      });\r\n      return deletedRowsCount > 0;\r\n    } catch (e) {\r\n      throw new Error(`Cannot delete data because: ${e}`);\r\n    }\r\n  }\r\n  \r\n  async find(options: FindOptions): Promise<any> {\r\n    try {\r\n      const instances = await this.model.findAll(options);\r\n      return instances.map((instance: any) => instance.toJSON());\r\n    } catch (e) {\r\n      throw new Error(`Not found data: ${e}`);\r\n    }\r\n  }\r\n  \r\n  async count(options: FindOptions): Promise<number> {\r\n    try {\r\n      return await this.model.count(options);\r\n    } catch (e) {\r\n      throw new Error(`Not found data: ${e}`);\r\n    }\r\n  }\r\n  \r\n  async findOne(id: string): Promise<any> {\r\n    try {\r\n      const instance = await this.model.findOne(id);\r\n      return instance ? (instance.toJSON()) : null;\r\n    } catch (e) {\r\n      throw new Error(`Cannot find data because: ${e}`);\r\n    }\r\n  }\r\n}"],
  "mappings": ";;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAIO,MAAe,eAAkD;AAAA,EACtE;AAAA,EAEA,YAAY,OAAc;AACxB,SAAK,QAAQ;AAAA,EACf;AAAA,EACA,MAAM,OAAO,MAAyB;AACpC,QAAI;AACF,aAAO,MAAM,KAAK,MAAM,OAAO,IAAI;AAAA,IACrC,SAAS,GAAG;AACV,YAAM,IAAI,MAAM,+BAA+B,CAAC,EAAE;AAAA,IACpD;AAAA,EACF;AAAA,EAEA,MAAM,OAAO,IAAY,MAA6B;AACpD,QAAI;AACF,YAAM,CAAC,gBAAgB,IAAI,MAAM,KAAK,MAAM,OAAO,MAAM;AAAA,QACvD,OAAO,EAAE,GAAG;AAAA,MACd,CAAC;AACD,aAAO,mBAAmB;AAAA,IAC5B,SAAS,GAAG;AACV,YAAM,IAAI,MAAM,+BAA+B,CAAC,EAAE;AAAA,IACpD;AAAA,EACF;AAAA,EAEA,MAAM,OAAO,IAA8B;AACzC,QAAI;AACF,YAAM,mBAAmB,MAAM,KAAK,MAAM,QAAQ;AAAA,QAChD,OAAO,EAAE,GAAG;AAAA,MACd,CAAC;AACD,aAAO,mBAAmB;AAAA,IAC5B,SAAS,GAAG;AACV,YAAM,IAAI,MAAM,+BAA+B,CAAC,EAAE;AAAA,IACpD;AAAA,EACF;AAAA,EAEA,MAAM,KAAK,SAAoC;AAC7C,QAAI;AACF,YAAM,YAAY,MAAM,KAAK,MAAM,QAAQ,OAAO;AAClD,aAAO,UAAU,IAAI,CAAC,aAAkB,SAAS,OAAO,CAAC;AAAA,IAC3D,SAAS,GAAG;AACV,YAAM,IAAI,MAAM,mBAAmB,CAAC,EAAE;AAAA,IACxC;AAAA,EACF;AAAA,EAEA,MAAM,MAAM,SAAuC;AACjD,QAAI;AACF,aAAO,MAAM,KAAK,MAAM,MAAM,OAAO;AAAA,IACvC,SAAS,GAAG;AACV,YAAM,IAAI,MAAM,mBAAmB,CAAC,EAAE;AAAA,IACxC;AAAA,EACF;AAAA,EAEA,MAAM,QAAQ,IAA0B;AACtC,QAAI;AACF,YAAM,WAAW,MAAM,KAAK,MAAM,QAAQ,EAAE;AAC5C,aAAO,WAAY,SAAS,OAAO,IAAK;AAAA,IAC1C,SAAS,GAAG;AACV,YAAM,IAAI,MAAM,6BAA6B,CAAC,EAAE;AAAA,IAClD;AAAA,EACF;AACF;",
  "names": []
}
