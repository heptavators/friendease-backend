# name: 'Terraform For Cloud Infrastructure'

# on:
#   push:
#     branches: [ "main" ]
#   pull_request:

# permissions:
#   contents: read

# jobs:
#   deploy:
#     name: 'Build and Deploy a Container'
#     runs-on: ubuntu-latest

#     steps:
#       - name: Checkout
#         uses: actions/checkout@v3

#       - name: Authenticate with Google Cloud
#         uses: google-github-actions/auth@v1
#         with:
#           credentials_json: "${{ secrets.GOOGLE_CREDENTIALS }}"

#       - name: Set up Cloud SDK
#         uses: google-github-actions/setup-gcloud@v1

#       - name: Configure Docker with gcloud credentials
#         run: gcloud auth configure-docker 

#       - name: Deploy to Cloud Build
#         run: |
#           gcloud builds submit --config ./cloudbuild.yaml 
      
#       - name: Deploy to Cloud Run
#         run: |
#           gcloud run deploy ${{ env.SERVICE }} --project ${{ env.PROJECT_ID }} --region ${{ env.REGION }} --image ${{ env.IMAGE }} --port ${{ env.PORT }} --memory ${{ env.MEMORY }}